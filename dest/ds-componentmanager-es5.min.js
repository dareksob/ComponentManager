"use strict";var ComponentManager=function(){function t(){this.path="components/",this.detectAttr="data-components",this.settingAttr="data-settings",this.splitSeperator=",",this.observers={}}return $traceurRuntime.createClass(t,{setup:function(t){var e=this,r=Object.keys(t);return r.forEach(function(r){"string"==typeof e[r]&&(e[r]=t[r])}),this},on:function(t,e){return this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),this},trigger:function(t,e){return this.observers[t]&&this.observers[t].forEach(function(t){t(e)}),this},getComponentNodes:function(t){return t.querySelectorAll("["+this.detectAttr+"]")},getNodesOfComponent:function(t){var e=void 0!==arguments[1]?arguments[1]:document,r=this,n=this.getComponentNodes(e),o=new RegExp("^"+t+",|^"+t+"|,"+t);return n=Array.prototype.filter.call(n,function(t){return o.test(t.getAttribute(r.detectAttr))})},detect:function(t){var e=this;return new Promise(function(r,n){for(var o=e.getComponentNodes(t),s=o.length,i=function(){var t=o[s],r=t.getAttribute(e.detectAttr).split(e.splitSeperator),n={};t.hasAttribute(e.settingAttr)&&(n=JSON.parse(t.getAttribute(e.settingAttr))),r.forEach(function(r){var o=n&&n.hasOwnProperty(r)?n[r]:{},s=""+e.path+r;e.trigger("AddComponent",{node:t,name:r,path:s,setting:o})})};s--;)i();r(o)})}},{})}(),$__default=ComponentManager;Object.defineProperties(module.exports,{"default":{get:function(){return $__default}},__esModule:{value:!0}});
//# sourceMappingURL=ds-componentmanager-es5.min.js.map
